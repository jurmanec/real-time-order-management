version: 1
applications:
  - frontend:
      phases:
        preBuild:
          commands:
            - 'npm install -g pnpm'  # Install pnpm globally
            - 'pnpm install'         # Run pnpm install
        build:
          commands:
            - 'pnpm run build'
      artifacts:
        baseDirectory: .next
        files:
          - '**/*'
      cache:
        paths:
          - '.next/cache/**/*'
          - 'node_modules/**/*'
    appRoot: frontend